# Протокол HTTP

## Основное

### 1. Введение

Как вы знаете, сайты размещаются в интернете и для просмотров страниц этих сайтов нужна специальная программа - браузер.

Технически сайты размещаются на специальных компьютерах, которые подключены к интернету. Такие компьютеры называются серверами. Как правило, чтобы разместить сайт в интернете автор сайта покупает место на сервере у специальной организации, которая называется хостингом.

Браузер может получать страницы сайтов с серверов, расположенных в интернете. В рамках взаимодействия браузера и сервера браузер обычно называют клиентом.

Существуют специальные правила, регламентирующие общение клиента и сервера. Набор таких правил называется протоколом. Основным протоколом при работе сайта является протокол HTTP. Этот протокол мы будем изучать в рамках данного учебника.

### 2. Запросы и ответы

Пусть пользователь хочет открыть в браузере некоторую страницу некоторого сайта. Для этого пользователь либо переходит по некоторой ссылки, либо вбивает URL страницы в адресную строку браузера. При этом оба технически эквиваленты.

После этого браузер отправляет серверу запрос (request), в котором просит сервер отдать страницу по указанному URL. Сервер получает запрос браузера, формирует ответ (response) и отправляет его обратно в браузер. Правила оформления этих строк и регулирует протокол HTTP.

Таким образом все взаимодействия клиента и сервера сводится к перебрасыванию сообщений, подобно мячикам в пинг-понге.

При этом инициация запроса обязательна. Это значит, что сервер всегда шлёт ответ на запрос браузера. Не может быть такого, что сервер что-то пошлёт браузеру сам, без предваряющего запроса браузера.

### 3. Отсутствие состояния

Протокол HTTP не содержит прямой возможности сделать так, чтобы сервер нас запомнил. Это значит, когда вы видите в браузере загруженную страницу, в этот момент сервер уже давно обработал ваш запрос, сразу же забыв про вас.

При этом при получении запросов сервер не может отличить, отправлены ли эти запросы одним клиентом или разными. То есть перемещаясь по страницам сайта при открытии каждой новой страницы сервер не знает, совершали ли мы какие-либо действия на сайте или ещё нет.

В реальной жизни, как вы знаете, из личного опыта, сайты запоминают нас. Мы можем авторизироваться на сайте, складывать товары в интернет-магазине и так далее. Это делается с помощью специальных обходных путей, позволяющих серверу различать клиентов. Эти пути мы и будем изучать в дальнейшем.

### 4. Структура HTTP сообщения

Итак, клиент и сервер обмениваются друг с другом сообщениями, оформленными специальным образом. Давайте рассмотрим структуру этих сообщений.

Каждое HTTP-сообщение состоит из трёх частей, которые передаются в указанном порядке:

1. Стартовая строка (starting line)
2. Заголовки (headers)
3. Тело сообщения (message body)

Технически стартовая строка является первой строкой сообщения, затем на каждой строке размещается по одному заголовку, затем идёт пустая строка и после неё размещается тело запроса.

При этом стартовая строка определяет тип сообщения, заголовки характеризуют тело сообщения, параметры передачи и прочие сведения, а тело содержит непосредственно данные сообщения.

Стартовая строка и заголовки являются обязательными элементами, а тело - нет. При этом стартовые строки различаются для запроса и ответа.

В следующих уроках мы отдельно разберём каждую часть HTTP-сообщения.

### 5. Стартовая строка HTTP-запроса

### 6. Методы HTTP-запросов

### 7. Стартовая строка HTTP ответа

### 8. Группы кодов состояний HTTP-запросов

### 9. HTTP заголовки

### 10. Группы HTTP-заголовков

### 11. Полезные HTTP-заголовки

### 12. Свои HTTP-заголовки

### 13. Тело HTTP-сообщения

### 14. Автоматические HTTP-запросы браузера

### 15. Затраты на HTTP-запросы

### 16. HTTP сообщения в отладчике браузера

## Продвинутое

### 17. HTTP редиректы

### 18. HTTP Referer

### 19. User Agent

### 20. HTTPS

### 21. GET-параметры

### 22. Отправка методом GET

### 23. Отправка форм методом POST

### 24. MIME типы

### 25. AJAX

### 26. Cookie

### 27. Сессии

### 28. API

### 29. REST API
